<!DOCTYPE html>
<html lang="en">
    <%-include ("../partials/head.ejs")%>
<body>
<div class="main-wrapper">
    <%-include ("../partials/header.ejs",{admin:admin})%>
    <%-include ("../partials/sidebar.ejs")%>
<div class="page-wrapper cardhead">
<div class="content container-fluid">
<div class="page-header">
<div class="row">
<div class="col">
<h3 class="page-title">Add Product</h3>
</div>
</div>
</div>
<div class="row">
<div class="col-lg-12">
<div class="card">
<div class="card-header">
<h5 class="card-title">Products</h5>
</div>
<div class="card-body">

<!-- <div class="form-group row">
<label class="col-form-label col-md-2">Text Input</label>
<div class="col-md-10">
<input type="text" class="form-control">
</div>
</div>
<div class="form-group row"> -->
<!-- <label class="col-form-label col-md-2">Password</label>
<div class="col-md-10">
<input type="password" class="form-control">
</div> -->
<form action="" class="form-group" id="purchaseForm" method="post">
    <div class="row">

        <div class="col-md-2">
            
            <!-- <select name="" id="itemName" class="col-md-4 form-control">
                <option value="" disabled>choos a product...</option>
                               
                    <option value=""></option>
            
            </select> -->
        </div>
        <!-- <div class="col-md-3">
            <label for="" class="col-form-label">Quantity</label>
            <input type="number" class="col-md-4 form-control" name="itemQuantity" id="itemQuantity" required>
        </div> -->
        <div class="col-md-8">
            <label for="" class="col-form-label">Name</label>
            <input type="text" class="col-md-4 form-control" name="itemName" id="itemName" required><br>

            <label for="" class="col-form-label">Size</label>
            <input type="text" class="col-md-4 form-control" name="itemSize" id="itemSize"><br>

            <label for="" class="col-form-label">Price</label>
            <input type="text" class="col-md-4 form-control" name="itemPrice" id="itemPrice" required placeholder="Ghc">
        </div>
        <div class="col-md-2">
           
        </div>
    </div>
    <br>
    <input type="submit" class="btn btn-primary w-100">
</form>
</div>

</div>
</div>
<!--  -->
</div>
</div>
</div>
</div>
</div>


<%-include ("../partials/scripts.ejs")%>
<script>
    document.addEventListener('DOMContentLoaded',()=>{
       const form= document.getElementById('purchaseForm')
       form.addEventListener('submit',(e)=>{
            e.preventDefault()
            const name=document.getElementById('itemName').value
            const size=document.getElementById('itemSize').value
            const price=document.getElementById('itemPrice').value
            console.log(name,size,price);

            var productData={
                'productName':name,
                'size':size,
                'price':price
            }
            fetch('/product/add',{
                method:'post',
                "headers":{
                    "Content-Type":"application/json"
                },
                body:JSON.stringify(productData)
            }).then((response)=>{response.json()}).then((finalres)=>{
                Swal.fire(
                    'Success',
                    'Product added successfully',
                    'success'
                );
                
            }).catch((error)=>{
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'Error Adding Product!',
                    footer: '<a href="">Why do I have this issue?</a>'
                })
            })
        })
    })
        
</script>
</body>
</html>